<ion-content [fullscreen]="true" >
  <ion-row class="ion-justify-content-center ion-margin-top">
    <img src="../../../assets/icon/icon_alarma_robo.png" class="ion-margin logo" width="40%" height="40%"/>
  </ion-row>
 
  <ion-row class="ion-justify-content-center ion-align-items-center ">
    <form [formGroup]="form" class="auth-form" (ngSubmit)="ingresar()">
      <ion-row class="ion-justify-content-center m-3">
        <!-- <app-custom-input 
          autocomplete="email" 
          icon="mail-outline" 
          [control]="form.get('email')!" 
          type="email" 
          label="Correo"
        ></app-custom-input> -->
        <ion-item class="custom-input" lines="none">
          <ion-icon color="primary" slot="start" name="mail-outline"></ion-icon>
          <ion-input 
            type="email" 
            autocomplete="email" 
            label="Correo" 
            formControlName='email' 
            labelPlacement="floating">
          </ion-input>
        </ion-item>
        <div class="error" *ngIf="form.controls?.['email']?.invalid && (form.controls?.['email']?.dirty || form.controls?.['email']?.touched)">
          <div *ngIf="form.controls?.['email']?.errors?.['required']">El correo es requerido</div>
          <div *ngIf="form.controls?.['email']?.errors?.['email']">El correo es inválido</div>
        </div>
        
      </ion-row>

      <ion-row class="ion-justify-content-center m-3">
        <!-- <app-custom-input 
          icon="lock-close-outline" 
          autocomplete="password" 
          type="password" 
          label="Contraseña"
          [control]="form.get('password')!" 
        ></app-custom-input> -->
        <ion-item class="custom-input" lines="none">
          <ion-icon color="primary" slot="start" name="lock-close-outline"></ion-icon>
          <ion-input 
            type="password" 
            autocomplete="password" 
            label="Contraseña" 
            formControlName='password' 
            labelPlacement="floating">
          </ion-input>
        </ion-item>
        <div class="error" *ngIf="form.controls?.['password']?.invalid && (form.controls?.['password']?.dirty || form.controls?.['password']?.touched)">
          <div *ngIf="form.controls?.['password']?.errors?.['minlength']">La contraseña debe tener mínimo 6 caracteres</div>
          <div *ngIf="form.controls?.['password']?.errors?.['required']">La contraseña es requerida</div>
        </div>

      </ion-row>  
    
      <ion-row class="ion-justify-content-center">
        <ion-button id="open-toast" expand="block" mode="ios" type="submit" [disabled]="!form.valid" class="w-75">
          Ingresar
        </ion-button>
      </ion-row>
    </form>
  </ion-row>

  <ion-row>
    
    <ion-button (click)="cargarUsuario('admin')" expand="block" fill="clear" shape="round">
      user-Admin
    </ion-button>
    <ion-button (click)="cargarUsuario('tester')" expand="block" fill="clear" shape="round">
      user-Tester
    </ion-button>
    <ion-button (click)="cargarUsuario('invitado')" expand="block" fill="clear" shape="round">
      user-Invitado
    </ion-button>
  </ion-row>

  <ion-toast trigger="open-toast" message={{error}} [duration]="5000"></ion-toast>
</ion-content>
